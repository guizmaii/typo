/**
 * File has been automatically generated by `typo` for internal use.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 *
 * (If you're developing `typo` and want to change it: run `bleep generate-sources`)
 */
package typo
package generated
package pg_catalog
package pg_database

import org.postgresql.util.PGobject
import play.api.libs.json.JsObject
import play.api.libs.json.JsResult
import play.api.libs.json.JsValue
import play.api.libs.json.Json
import play.api.libs.json.OFormat
import scala.util.Try

case class PgDatabaseRowUnsaved(
  datname: String,
  datdba: /* oid */ Long,
  encoding: Int,
  datcollate: String,
  datctype: String,
  datistemplate: Boolean,
  datallowconn: Boolean,
  datconnlimit: Int,
  datlastsysoid: /* oid */ Long,
  datfrozenxid: /* xid */ PGobject,
  datminmxid: /* xid */ PGobject,
  dattablespace: /* oid */ Long,
  datacl: Option[Array[/* aclitem */ PGobject]]
)
object PgDatabaseRowUnsaved {
  implicit val oFormat: OFormat[PgDatabaseRowUnsaved] = new OFormat[PgDatabaseRowUnsaved]{
    override def writes(o: PgDatabaseRowUnsaved): JsObject =
      Json.obj(
        "datname" -> o.datname,
      "datdba" -> o.datdba,
      "encoding" -> o.encoding,
      "datcollate" -> o.datcollate,
      "datctype" -> o.datctype,
      "datistemplate" -> o.datistemplate,
      "datallowconn" -> o.datallowconn,
      "datconnlimit" -> o.datconnlimit,
      "datlastsysoid" -> o.datlastsysoid,
      "datfrozenxid" -> o.datfrozenxid,
      "datminmxid" -> o.datminmxid,
      "dattablespace" -> o.dattablespace,
      "datacl" -> o.datacl
      )

    override def reads(json: JsValue): JsResult[PgDatabaseRowUnsaved] = {
      JsResult.fromTry(
        Try(
          PgDatabaseRowUnsaved(
            datname = json.\("datname").as[String],
            datdba = json.\("datdba").as[/* oid */ Long],
            encoding = json.\("encoding").as[Int],
            datcollate = json.\("datcollate").as[String],
            datctype = json.\("datctype").as[String],
            datistemplate = json.\("datistemplate").as[Boolean],
            datallowconn = json.\("datallowconn").as[Boolean],
            datconnlimit = json.\("datconnlimit").as[Int],
            datlastsysoid = json.\("datlastsysoid").as[/* oid */ Long],
            datfrozenxid = json.\("datfrozenxid").as[/* xid */ PGobject],
            datminmxid = json.\("datminmxid").as[/* xid */ PGobject],
            dattablespace = json.\("dattablespace").as[/* oid */ Long],
            datacl = json.\("datacl").toOption.map(_.as[Array[/* aclitem */ PGobject]])
          )
        )
      )
    }
  }
}
