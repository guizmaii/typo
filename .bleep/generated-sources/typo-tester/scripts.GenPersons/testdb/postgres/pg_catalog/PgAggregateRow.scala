/**
 * File automatically generated by `typo` for its own test suite.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN
 */
package testdb
package postgres
package pg_catalog

import anorm.RowParser
import anorm.Success
import org.postgresql.util.PGobject
import play.api.libs.json.JsObject
import play.api.libs.json.JsResult
import play.api.libs.json.JsValue
import play.api.libs.json.Json
import play.api.libs.json.OFormat
import scala.util.Try

case class PgAggregateRow(
  aggfnoid: PgAggregateId,
  aggkind: String,
  aggnumdirectargs: Int,
  aggtransfn: PGobject,
  aggfinalfn: PGobject,
  aggcombinefn: PGobject,
  aggserialfn: PGobject,
  aggdeserialfn: PGobject,
  aggmtransfn: PGobject,
  aggminvtransfn: PGobject,
  aggmfinalfn: PGobject,
  aggfinalextra: Boolean,
  aggmfinalextra: Boolean,
  aggfinalmodify: String,
  aggmfinalmodify: String,
  aggsortop: Long,
  aggtranstype: Long,
  aggtransspace: Int,
  aggmtranstype: Long,
  aggmtransspace: Int,
  agginitval: Option[String],
  aggminitval: Option[String]
)

object PgAggregateRow {
  implicit val rowParser: RowParser[PgAggregateRow] = { row =>
    Success(
      PgAggregateRow(
        aggfnoid = row[PgAggregateId]("aggfnoid"),
        aggkind = row[String]("aggkind"),
        aggnumdirectargs = row[Int]("aggnumdirectargs"),
        aggtransfn = row[PGobject]("aggtransfn"),
        aggfinalfn = row[PGobject]("aggfinalfn"),
        aggcombinefn = row[PGobject]("aggcombinefn"),
        aggserialfn = row[PGobject]("aggserialfn"),
        aggdeserialfn = row[PGobject]("aggdeserialfn"),
        aggmtransfn = row[PGobject]("aggmtransfn"),
        aggminvtransfn = row[PGobject]("aggminvtransfn"),
        aggmfinalfn = row[PGobject]("aggmfinalfn"),
        aggfinalextra = row[Boolean]("aggfinalextra"),
        aggmfinalextra = row[Boolean]("aggmfinalextra"),
        aggfinalmodify = row[String]("aggfinalmodify"),
        aggmfinalmodify = row[String]("aggmfinalmodify"),
        aggsortop = row[Long]("aggsortop"),
        aggtranstype = row[Long]("aggtranstype"),
        aggtransspace = row[Int]("aggtransspace"),
        aggmtranstype = row[Long]("aggmtranstype"),
        aggmtransspace = row[Int]("aggmtransspace"),
        agginitval = row[Option[String]]("agginitval"),
        aggminitval = row[Option[String]]("aggminitval")
      )
    )
  }

  implicit val oFormat: OFormat[PgAggregateRow] = new OFormat[PgAggregateRow]{
    override def writes(o: PgAggregateRow): JsObject =
      Json.obj(
        "aggfnoid" -> o.aggfnoid,
      "aggkind" -> o.aggkind,
      "aggnumdirectargs" -> o.aggnumdirectargs,
      "aggtransfn" -> o.aggtransfn,
      "aggfinalfn" -> o.aggfinalfn,
      "aggcombinefn" -> o.aggcombinefn,
      "aggserialfn" -> o.aggserialfn,
      "aggdeserialfn" -> o.aggdeserialfn,
      "aggmtransfn" -> o.aggmtransfn,
      "aggminvtransfn" -> o.aggminvtransfn,
      "aggmfinalfn" -> o.aggmfinalfn,
      "aggfinalextra" -> o.aggfinalextra,
      "aggmfinalextra" -> o.aggmfinalextra,
      "aggfinalmodify" -> o.aggfinalmodify,
      "aggmfinalmodify" -> o.aggmfinalmodify,
      "aggsortop" -> o.aggsortop,
      "aggtranstype" -> o.aggtranstype,
      "aggtransspace" -> o.aggtransspace,
      "aggmtranstype" -> o.aggmtranstype,
      "aggmtransspace" -> o.aggmtransspace,
      "agginitval" -> o.agginitval,
      "aggminitval" -> o.aggminitval
      )

    override def reads(json: JsValue): JsResult[PgAggregateRow] = {
      JsResult.fromTry(
        Try(
          PgAggregateRow(
            aggfnoid = json.\("aggfnoid").as[PgAggregateId],
            aggkind = json.\("aggkind").as[String],
            aggnumdirectargs = json.\("aggnumdirectargs").as[Int],
            aggtransfn = json.\("aggtransfn").as[PGobject],
            aggfinalfn = json.\("aggfinalfn").as[PGobject],
            aggcombinefn = json.\("aggcombinefn").as[PGobject],
            aggserialfn = json.\("aggserialfn").as[PGobject],
            aggdeserialfn = json.\("aggdeserialfn").as[PGobject],
            aggmtransfn = json.\("aggmtransfn").as[PGobject],
            aggminvtransfn = json.\("aggminvtransfn").as[PGobject],
            aggmfinalfn = json.\("aggmfinalfn").as[PGobject],
            aggfinalextra = json.\("aggfinalextra").as[Boolean],
            aggmfinalextra = json.\("aggmfinalextra").as[Boolean],
            aggfinalmodify = json.\("aggfinalmodify").as[String],
            aggmfinalmodify = json.\("aggmfinalmodify").as[String],
            aggsortop = json.\("aggsortop").as[Long],
            aggtranstype = json.\("aggtranstype").as[Long],
            aggtransspace = json.\("aggtransspace").as[Int],
            aggmtranstype = json.\("aggmtranstype").as[Long],
            aggmtransspace = json.\("aggmtransspace").as[Int],
            agginitval = json.\("agginitval").toOption.map(_.as[String]),
            aggminitval = json.\("aggminitval").toOption.map(_.as[String])
          )
        )
      )
    }
  }
}
